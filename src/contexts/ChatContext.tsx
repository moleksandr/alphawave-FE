// Dependencies
import { useState, createContext, useContext, FC, useEffect, useCallback } from 'react';
import { v4 as uuidv4 } from "uuid";

import { getCreatedTime } from "../utils/timezone";

// Api's
import * as Api from "../utils/mattermost";

// Types
export type Channel = {
  id?: string;
  name: string;
  list: string[];
}

export type User = {
  id: string;
  url: string;
  name: string;
  username?: string;
}

export type Message = {
  id: string;
  user: User;
  message: {
    data: string;
    caption: string;
  };
  reactions: any;
  replies: {
    reciever: string;
    message: string;
  }[];
  type: string;
  timestamp: string;
  create_at: number;
}

export type MessageContent = {
  message?: string;
  images?: File[];
}

interface ChatContextProps {
  user: User;
  channels: Channel[];
  users: User[];
  messages: Message[];
  activeUser: User | null;
  setActiveUser: (user: User) => void;
  sendMessage: (message: string) => void;
  getUser: (username: string) => void;
  setToken: (token: string) => void;
  setMessages: ((mesg: Message[]) => void);
  activeChannel: Channel;
  setActiveChannel: (channel: Channel) => void;
  addReaction: (a: any, b: any) => void;
  customReactions: any[];
  getThreads: (threads: any) => void;
  setThreads: (threads: any) => void;
  threads: Message[];
  inviteToTheChannel: (a: string, b: any) => void;
  inviteToTheTeam: (a: string, b: any) => void;
}

const initialValues = {
  user: {
    id: uuidv4(),
    name: 'Dr Smith',
    url: 'data:image/jpeg;base64,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'
  },
  channels: [
    {
      id: uuidv4(),
      name: 'Project A',
      list: ['List A', 'List B']
    },
    {
      id: uuidv4(),
      name: 'Project B',
      list: ['List B']
    },
    {
      id: uuidv4(),
      name: 'Project C',
      list: ['List C']
    }
  ],
  users: [
    {
      id: uuidv4(),
      name: 'Dr Smith',
      url: 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCBUREhARERIRDw8REhASEg8PDxEPERESGRkZGRgVGRgcIS4lHB4rHxgYJjgmKy8xNTU2GiQ7QDs0Py40NTEBDAwMEA8QHxISGjQrISQxNDE0NDQxNDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0MTQ0NDQ0NDQ0NDQ0NDQ0NDE0NP/AABEIAPEA0QMBIgACEQEDEQH/xAAbAAEAAgMBAQAAAAAAAAAAAAAAAQIEBQYHA//EAEoQAAIBAgMDBwcIBwQLAAAAAAABAgMRBBIhBTFRBiJBYXGBkQcTMlJyscEjNEJic6HR4RQkM4KSsrMlY6LwFRc1Q2R0g5OjwtL/xAAaAQEAAgMBAAAAAAAAAAAAAAAAAQUCAwQG/8QANBEAAgECAwUFBwMFAAAAAAAAAAECAxEEITEFElFxwTJBYaGxIjOBkdHh8BM0cjVCgoOy/9oADAMBAAIRAxEAPwDcggF8eTJBAAJBAAJIAAAAAAAAAAAAAAAAAAAABJAAJBAAJBAAJAABALAgFQWABUFgAVBYAFQWABUFgAVBYAFQWABUFgAVBYAFQWABUFgAVBYAFQWAABIBBAJABAJABAAAABDdtXol0sgElKlWMPSko9rNdidoOTy09F673vsRhRoycrys1b0m25NnJUxcY5RV/QsqGzpzW9Udl5/b4m0ntOC3Z5ezFfGxl4bbGGUGp060pu9pKyS/xGrjQRMqKvDtfuZzTxNSSte3I76eBowd7X55n3e1Kd91RLobivgz7U8bCeimr8Jc1/eYcqCMWvQdllSeut9NDJYuotbGuWzaL7La+NzfA0dHEyp6J5oepN+7gbfDYiM1eL7Yven1nZSrxqZLXgVmIwlShm81xX5l+WPqASbzlIBIAIAAABJAABIAsQCwIuLFQWAuLFQWAuLFSSQBYqajamJcpebT5sfS65cO43By+fNKUumTb8WcmLm1BJd5Y7NpKVRzf9unP8ufeCsfeFQw3MjzpXF4bKNQiU9Y9TfuZosRi5NuMXlS0bW9nw87P15fxM1yqpOxtjSbVzpXUPnKZoaeKnF+k5LpTdzYRrXSfEyjNS0MJQcdTJk7nyhUcJKcdGujoa4MoqhWb0M02ndGDSas1kdJQqKcYzW6Sv2cUfQ1uxJXpyXqzdu9JmyLenLfgpcTy9emqdWUF3MgFgbLmuxUkkAWKkkkAggEggEkkgAggsACoLAAqSSAD51Nz9lnJxlZHXNHHy0bXBtHDjF2fj0LfZTymuXUlyFz4VK8Y733LVmDW2m16FOT62mjhuW9meg7L5DQrU6dWeInF1YqahGnHS6TtdvrM+Pk9oXa8/WurX5tNfA47ZnlExNOEKKhTioKMIuUZNtJWv0cDY/6wcVwo/8Abf4mpqmtUb06j0ZvZeT2k0nHEVUn60Idm7Q4zGUPNVKlK+ZU5yhmta+V2vYz8T5R8VC3Noy13KnLo7zlKm26tSpOpOmm6k5TkoqUbNu+hlDd1SMJ72kmbdSLZjBo42Mt6lB/WTS8TJTNlzXY32wlzJ+38EbMwNiQtSb9acn7l8DZFtQypx5HmsY7158/sVBYG05ioLAAgEgAqCwAAIBAJBAAJBAAJBAAKVKihGU5NRjFNtvckjg9o4xSnLI3llKb3ZXa+h1XKaLeErZehQb9hNXPPada9r9EvuZW46buormX2x6Ud2VR63tblZmTXrxgs03ZdZ8a2LdOMZ1KVenTlJxjOdKUISkkm4ptauzvYyo3UoThKUJ05KdOcLZoTW6SuX2zVr42KjicRUqRU3Uy2jGOdpRcsqSim7dC6XxZXLd7y6e93HxpVYzScXo1dXTWnHXtR9Ln0oznGisOpLzMZqoo5YXU8qhfNbN6KWl7HzZGXcZK5DdtWY2LxipTVOcKsZtJqEqcoSafotKSTs76GwwmInSnGpTajODbjJwhOzaa3STW5sxNoYaeJqxr16lSrUioRUpvPzYeiuz/AD0sLd7yJb3cfKni02oyUoTaUlGcXFyi9zV966zLhXcHHXRtXW/Q+mJxFWrGjCrUlUp4eOWjBxhGNNWs7ZUm2+LuYVaVmuq78ETfP2SLXWZ3+wsXCdOMYPn01z4tWabbd+w2Zw3IlynXqS6FSlm4ayVvidwXmGm50k3y+R5PH0lTxElF65/MkEA3nGSCAASCAASCAASAAAAAAAAAAAD516SqQnTlrGcJRfY1Y8rlDIpxfpxnr12dj1g4LGbCrzq1Yqm+dKo1OzyWbbTzfA4MdBvdsuJcbIrRg5qUklk82YWGldIy1E1GCraGzp1LlRJHpEy1WSitd73HwhUhZ53ZvcRjYKaSU3CSvZrXeYP6K19PN1tNMmKVjGTd9DY0Kivl47mZDRrcLh8ks0qjlwjlsr+JnymYyWeRlF5ZlaprXNObb3KLv7jIxFYYDZtSrCVWFOU4+ccOas0rpJ3tw1NkIN6I11JxhnJ25nT8h8Mo0Z1PpVKlv3YrReLZ0xrOTuFlSw8ITWSWacsr3pN6XNmXtBWpxXgeQxk9/ETd75gAG45gAAAAAAAACQAYkAAAAAAAAAAAAHlW36H6Pi69NaRc3Uh7M+cvvbXcfGGKfE6zl9spzpxxUFeVFZaqW90Xrm/df3NnCUKupT16W5No9ZgsR+rRi75rJ819dTaQpzndxWbqT17bdIWdaOE7+xL8CKOJtaz3cGfT/S8/qtcWtTns+B3JxK+ZnZyyuK4y5v3byjrtaNn0ljHPWT+Fu4wcTVQSvqQ2loK+Iuen8ncH5nC0INWk4Z5r68+c/fbuPPeS2zHi8TBNXo03GpUfRZPSPa2vBM9VLLBU7Xn8Cg2viL7tJc306gAHcUoAAAAAAAAAAAABcAFAXABQFwAUBcAFAXIAKyV7p6p6NPVNHn3KPkbKEpVcJHPTd3KgvTp8cvGPVvXWdhjdrxpycIxzyW/XmJ8L8TBntuo90YR7nf3nNWlSkt2XkWeDo4um9+msnxeT+Gp5hnlFuMk4taOMk4yT4NM+say1NxteLq1qspJSk5XenUjX/oy9W3iVjsnY9BG7V2Ykq3A2OyOT+IxbWSLhS6a9WLjC31emT7PFFIUYr6Kv2HZ7L2pUhRpRWRxjBJKUXe3ambKSg37WhpxLrKNqVr+Jv9kbLp4WnGlSWm+U5elUn0yk+PuMw01Lbuqz09Ol038H+JuKVRTipRd4vcy0pzg1aPceaxFCtB71Va9+t/kSCxJsOcoC4AKAuACgLgAoC4AAAIuLgAC4uAALi4AAuLg122cZ5qnzfTndR6l0y/zxNicfyjxKnKo22oQSgnHerPVrvuaa092OWrOzA0VVrZ6LNnwhqfdQNXhakvoVIT+pNZZeJmrGZf2lOcPrJZ4+KK89Kb7kNsiGKntGFSEJxToLLNdPP1T3p6bzd1PJ7h27qNSK4RrJr/EmzH8ljUpbQktVKdCz6rVD0EhpPVGKk1ozhsbyQoYbCYudOnFVFhq7U5ydSa5j3X0XccLgI/JU/ZPZdvRvhMWuOHr/ANOR4pgsXGNOEUpTml6MIt9IVkSm3qZU4mdsTG5J+bk+ZN/wy6H37jT16tRq7UKMeM5Xl4GPgqic5WqSnLLe7VorXoRnGbi7o11aaqwcJd56MDHwNfzlOE+lrX2lo/vMgs07q6PKSTi3F6oAAm5FwABcXAAFxcAAXFxYWAIAsLAACwsAALCwABWrLLGUvVi34K5w9V3Tb3vV97Ow2pLLRqv+7a8dPicfU9F9xx4l5pF3smPsSl4pdepSGEhPfFX4x5rLxwc4fs6jt6k9UKEjNgznLY6jyVJ22hmspeco3y7r2luPQDgfJg+dtFf3tF/dM74gwZhbZ+bYr7Cv/JI8RwNKpKnC01CnbTKuc9ek9t207YXFPhh6/wDJI8c2b+xh7PxYJR8XgILWWacuM3cinFJtJJK25KxlVpGLSfOfYSZHTcnZ3pzj6s7rsa/Jm3sc/wAm58+rHjBPwf5nQHfRd4I8zj47uIl42fkLCwBtOQWFgABYWAAIsSSAASQAQSVJABIIABBYgAGt5QTtQa9acF8fgcrV9B9h0XKWXMpx4zb7kvzOfq+jLsZw137Z6LZith78W/p0PhRkZ0JGtpszITNJ3o7DyXz+U2ivrYd/1D0I818l8/1jaK+rh398/wAT0kghmu5Rztg8Y+GGxH9OR5BgJfJQ9n4nrHK2dsBjn/w1b74tHkODl8nD2SSUfStI+WH9J9hFWRGE3y7EBc3OwZ2r29aE17n8DqTj9mTy16T4zUfG6+J152YfslBtRWrJ8V9SCxAOgrSSpIAJIAAJBAAJABiAAAAAAAASSDmuUlW9SnD1Kd32yf5I1NT0ZdjPttCr5yvVl0Z3FdkeavcfGe59jK6bvJs9Vhofp0Yx8Pv1MGBlQZiwMiBibzqPJhL9cxy40qb8Jfmeno8r8msv7QxS44dPwlD8T1MhGLNHy3lbZ2N+xkvFpfE8jwr+Th7KPVeX8rbNxfXCK8akEeU4b9nD2I+4BCoy+C+l3HzqFsJ9LuJMjKjPLKEvVlGXg7nbxd0mtz1XYcLM63YtXPQpvpS82/3dPdY6MM82ip2tTvGM+GXzz6GcADqKQAAAAAAAAAkAAAAAAAAApVqZYyl0RhKXgrlzD2zLLh6z/u3H+JpfEhuybMoR3pqPFpeZxcH0ve9WTOWjEVoffBYd1KkIJX+k+yOv5d5XLPI9dOainJ6I1sDJgaX9KqU3lnG01vjODjJPrR94bTl6sfFoi4O08nH+0q//AC0v5qZ6qjxnkFtKNPGVKtSdOkpUJRvOSjFvNDS76dD0mPKGk7WxFBptpWqU9Wldrfw1CIMbyhv+zMV/0v6kDy2h6EPZj7ju+W226dXA4iEa9GcpebtCE4Sk7Ti9En1Hma2i0klGOiS1bBKM6oThnvNVU2hJ9EV3N/E3Gz8PN4Z1pxlH5bKm45VKDjG0lxV01frJWZEpqNr97sfSTOi5LVL06kPVqX7mvyZztjccl52qVY8YKXg7f+xsou00cm0I72Hl4WfmdMADuPNgAAAAAAAAEgAi4AAFwAALgGv28v1Wv1Qclra7TTS8UjYGv2+4rC18yUk4ZbNXV20l97TMZtbr5G2im6sba3XqjhY4zKudGcetq68UdXyWwvMlXf8AvFan7HS+9+44rJb0ZSj2PQ9M2dKLpUXBWg6dLKuCsjjwzU5X4F3taUqdJRWknryPPeVEs+MrR+jGUcz7IqyPjCC4LwRk7f8AneI+0fwPhHcJdpnVQ91DkvQRgluSXYkjY4OndYfrrV1/4l+JgF6FZwnCcbXhLMk9VezW4g2nytda6rgyvmo+rH+FH0ABg4mFmpRW7el0o9GwVNV8FSi3pUw9NJ8HlVn3NI8+rbz0XYC/VcP9lE20dWVm1G1CElqn0OKrYjzcp05KXnINxlGKvZm45ITz1a0nFwappJSau05au3cvEweVSTxUsrlG0aakk7Jzt/8AOUy+ReWNSrGyzSp3Ut7snqr968DTCUVW3fE6cTvTwLqNaxT9PI7AAFhc80AALgAAXAAAuCQAAAAAAAADUcqPmtTtp/zIA1Vvdy5M6MJ+4p/yj6o4XiegbA+a0PYXvYBw4LtvkXm2/cx/l0Zw+3/neI+0fwPjEA2y1Zvo+6jyXoiwAINgAABjVj0Xk/8ANcP9mgDbR7TKzavuo8+jOP2986xHt/BGVyS+cv7Kp74gHFD9x/kWFb+n/wCtf8nbgAtzyYAAAAAAAAB//9k=',
      first_name: 'Dr',
      last_name: 'Smith'
    },
    {
      id: uuidv4(),
      name: 'Gabriela Garrido',
      url: 'data:image/jpeg;base64,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',
      first_name: 'Gabriela',
      last_name: 'Garrido'
    },
    {
      id: uuidv4(),
      name: 'Kira Maru',
      url: 'data:image/png;base64,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',
      first_name: 'Kira',
      last_name: 'Maru'
    }
  ],
  messages: [
    {
      id: uuidv4(),
      user: {
        id: uuidv4(),
        name: "Dr Smith",
        url: 'data:image/jpeg;base64,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'
      },
      message: {
        data: '',
        caption: "Testing out the functionalities!"
      },
      reactions: ['love', 'thumbsup'],
      replies: [{ 'reciever': '', message: '' }],
      type: 'receiver',
      timestamp: '3:00 AM',
      create_at: 0
    },
  ],
  activeUser: null,
  setActiveUser: () => { },
  sendMessage: () => { },
  getUser: () => { },
  setToken: () => { },
  setMessages: ((message: Message[]) => { }),
  activeChannel: {
    name: 'Project A',
    list: ['List A', 'List B']
  },
  setActiveChannel: () => { },
  addReaction: () => { },
  getThreads: () => { },
  setThreads: () => { },
  threads: [
    {
      id: uuidv4(),
      user: {
        id: uuidv4(),
        name: "Dr Smith",
        url: 'data:image/jpeg;base64,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'
      },
      message: {
        data: '',
        caption: "Testing out the functionalities!"
      },
      reactions: ['love', 'thumbsup'],
      replies: [{ 'reciever': '', message: '' }],
      type: 'receiver',
      timestamp: '3:00 AM',
      create_at: 0
    },
  ],
  customReactions: [
    {
      title: '1f600',
      url: 'http://localhost:8065/static/emoji/1f600.png',
    },
    {
      title: '1f44d',
      url: 'http://localhost:8065/static/emoji/1f44d.png'
    },
    {
      title: '1f63a',
      url: 'http://localhost:8065/static/emoji/1f63a.png'
    },
    {
      title: '2764-fe0f',
      url: 'http://localhost:8065/static/emoji/2764-fe0f.png'
    }
  ],
  inviteToTheChannel: () => { },
  inviteToTheTeam: () => { },
}

export const ChatContext = createContext<ChatContextProps>(initialValues);

export const ChatProvider: FC<any> = ({ children }) => {
  const [channels, setChannels] = useState<Channel[]>(initialValues.channels);
  const [activeChannel, setActiveChannel] = useState('');
  const [users, setUsers] = useState<User[]>(initialValues.users);
  const [user, setUser] = useState<User>(initialValues.users[0]);
  const [messages, setMessages] = useState<Message[]>(initialValues.messages);
  const [activeUser, setActiveUser] = useState<User>(initialValues.users[0]);
  const [token, setToken] = useState('');
  const [channel, setChannel] = useState<Channel>(initialValues.activeChannel);
  const [customReactions, setCustomReactions] = useState(initialValues.customReactions);
  const [threads, setThreads] = useState<Message[]>(initialValues.messages);


  const getChannels = useCallback(
    async () => {
      const response: any = await Api.getChannels();
      if (response.data) {
        // TODO Replace this once we get list of channels 
        response.data.forEach((data: { list: object }, index: number) => {
          data.list = [`List ${index}`, `List ${index}`]
        })
        setChannels(response.data);
      }
    },
    []
  )

  const getUsers = useCallback(
    async () => {
      const response: any = await Api.getUsers();
      if (response.data) setUsers(response.data);
    },
    []
  )

  const getChannelPost = async () => {
    const response: any = await Api.getPost(activeChannel);
    if (response.data) {
      // TODO Set message body
      const messages = await Promise.all(Object.values(response.data.posts).map(async (post: any) => {
        if (post.root_id !== "") { return }
        const postId = post.id;
        const user = post?.props;

        const reactions: any = await Api.getReactionsForAPost(postId);
        const threads: any = await Api.getThreadsForAPost(postId);

        let file: any;
        // eslint-disable-next-line @typescript-eslint/no-unused-vars
        if (post?.file_ids) file = await Api.getFiles(post.file_ids[0]);

        return {
          id: postId,
          user: user,
          reactions: reactions.data ? reactions.data : [],
          replies: threads.data ? threads.data.order.length : 1,
          type: activeUser.username === post?.props.username ? 'sender' : 'receiver',
          timestamp: getCreatedTime(post.create_at),
          message: { data: file ? file.data.files : '', caption: post.message },
          create_at: post.create_at
        }
      }));
      // Type assertion to explicitly define the type of the resolved values
      const typedMessages: Message[] = messages.filter((message): message is Message => message !== undefined).sort((a: any, b: any) => a.create_at - b.create_at);
      setMessages([...typedMessages]);
    } else setMessages([]);
  }

  const getPost = async (incoming: User, outgoing: User) => {
    const outgoingUsername: string | undefined = outgoing.username;
    if (outgoingUsername) {
      const user: any = await Api.getUserWithUsername(outgoingUsername);
      if (user.data && activeChannel) {
        const response: any = await Api.getPost(activeChannel);
        if (response.data) {
          // TODO Set message body
          const messages = await Promise.all(Object.values(response.data.posts).map(async (post: any) => {
            if (post.root_id !== "") { return }
            const user = post?.props;
            const postId = post.id;

            const reactions: any = await Api.getReactionsForAPost(postId);
            const threads: any = await Api.getThreadsForAPost(postId);

            let file: any;
            // eslint-disable-next-line @typescript-eslint/no-unused-vars
            if (post?.file_ids) file = await Api.getFiles(post.file_ids[0]);

            return {
              id: post.id,
              user: user,
              reactions: reactions.data ? reactions.data : [],
              replies: threads.data ? threads.data.order.length : 1,
              type: incoming.username === post?.props.username ? 'sender' : 'receiver',
              timestamp: getCreatedTime(post.create_at),
              message: { data: file ? file.data.files : '', caption: post.message },
              create_at: post.create_at
            }
          }));
          // Type assertion to explicitly define the type of the resolved values
          const typedMessages: Message[] = messages.filter((message): message is Message => message !== undefined).sort((a: any, b: any) => a.create_at - b.create_at);
          setMessages([...typedMessages]);
        }
      }
    } else setMessages([]);
  }

  const getUser = async (username: string) => {
    setMessages([]);
    setActiveChannel('');
    const response: any = await Api.getUserWithUsername(username);
    if (response.data) {
      setUser(response.data);
      const channel: any = await Api.createDirectMessageChannel(activeUser.id, response.data.id);
      setActiveChannel(channel.data.id);
    }
  }

  useEffect(() => {
    const header = Api.setHeader(token);
    if (header) {
      getChannels();
      getUsers();
    }
  }, [token])

  useEffect(() => {
    getChannelPost();
    getPost(activeUser, user);
  }, [user, activeChannel])

  const sendMessage = async (message: string, root_id?: string, file?: string) => {

    const data: any = {
      "channel_id": activeChannel,
      "message": message,
      "props": {
        ...activeUser
      }
    }

    if (root_id) data.root_id = root_id;

    if (file !== '') {
      const fileResp: any = await Api.createFiles(activeChannel, uuidv4(), {
        files: file,
        channel_id: activeChannel
      })
      data.file_ids = [fileResp.data.file_infos[0].id];
    }

    await Api.createPost(data);

  }

  const setActiveUserData = (user: User) => {
    setActiveUser(user);
    setChannel(initialValues.activeChannel);
  }

  const setActiveChannelData = (channel: any) => {
    setChannel(channel);
    setUser(initialValues.users[0]);
    setActiveChannel(channel.id);
  }

  const addReaction = async (postId: string, emojiName: string) => {

    const reaction = {
      "user_id": activeUser.id,
      "post_id": postId,
      "emoji_name": emojiName
    };

    await Api.createReactions(reaction);

  }

  const getThreads = async (postId: string) => {

    const threads: any = await Api.getThreadsForAPost(postId);

    // TODO Set message body
    const messages = await Promise.all(Object.values(threads.data.posts).map(async (post: any) => {

      const user = post?.props;
      const postId = post.id;

      const reactions: any = await Api.getReactionsForAPost(postId);

      let file: any;
      // eslint-disable-next-line @typescript-eslint/no-unused-vars
      if (post?.file_ids) file = await Api.getFiles(post.file_ids[0]);

      return {
        id: post.id,
        user: user,
        reactions: reactions.data ? reactions.data : [],
        replies: threads.data ? threads.data.order.length : 1,
        type: 'sender',
        timestamp: getCreatedTime(post.create_at),
        message: { data: file ? file.data.files : '', caption: post.message },
        create_at: post.create_at
      }
    }));

    // Type assertion to explicitly define the type of the resolved values
    const typedMessages: Message[] = messages.filter((message): message is Message => message !== undefined).sort((a: any, b: any) => a.create_at - b.create_at);
    setThreads([...typedMessages]);

  }

  const inviteToTheChannel = async (userEmail: string) => {
    const user: any = await Api.getUserWithEmail(userEmail);
    if (user.data) {
      await Api.inviteMembersToChannel(activeChannel, {
        channel_id: activeChannel,
        user_id: user.data.id
      });
    }
  }

  const inviteToTheTeam = async (userEmail: string, userRole: string) => {
    const user: any = await Api.getUserWithEmail(userEmail);
    if (user.data) {
      const teams: any = await Api.getTeams();
      if (teams.data) {
        const team = teams.data.filter((team: any) => team.delete_at === 0);
        const teamId = team[0].id;
        await Api.inviteToTeam(teamId, user.data.id);
        await Api.updateUserRole(user.data.id, { roles: `${userRole}` })
        await getChannels();
        await getUsers();
      }
    }
  }

  const value = {
    user,
    users,
    channels,
    messages,
    activeUser,
    setActiveUser: setActiveUserData,
    sendMessage,
    getUser,
    setToken,
    setMessages,
    activeChannel: channel,
    setActiveChannel: setActiveChannelData,
    addReaction,
    customReactions,
    getThreads,
    threads,
    setThreads,
    inviteToTheChannel,
    inviteToTheTeam
  }

  return (
    <ChatContext.Provider value={value}>
      {children}
    </ChatContext.Provider>
  );
}

export const useChatContext = () => {
  return useContext(ChatContext);
}
